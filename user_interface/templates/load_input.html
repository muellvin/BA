<!DOCTYPE html>
<html lang="en">
<head>
    <title>Plate Buckling Optimizer</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="{{ url_for('static', filename= 'css/style.css') }}">
</head>
<body>

<div class="navbar">
  <a href="{{ url_for('index') }}">Startpage</a>
  <a href="{{ url_for('cs_analysis') }}">CS Analysis Tool</a>
  <a href="{{ url_for('optimize') }}">CS Optimization Tool</a>
</div>

<h1>CS Optimization Tool</h1>
<p>Please fill the following form.</p>


<div class="row">
  <div class="side">
    <script>
      function grey() {
        var ei = document.getElementById("ei")
        ei.setAttribute("disabled", "disabled")
      }
    </script>
    <script>
      function white() {
        var ei = document.getElementById("ei")
        ei.removeAttribute("disabled")
      }
    </script>
    <script>
      function restrict() {
        var m_ed = document.getElementById("M_Ed")
        m_ed.setAttribute("max", 0)
      }
    </script>
    <script>
      function unrestrict() {
        var m_ed = document.getElementById("M_Ed")
        m_ed.removeAttribute("max")
      }
    </script>
    <form action="/optimize_step_1" method="POST" id="opt_step_2"> </form>
    <table>
      <tr>
        <td><p>Enter the resulting internal forces.</p></td>
      </tr>
      <tr>
        <td><label for="M_Ed">M<sub>Ed</sub> [kNm]</label></td>
        <td><input type="number" name="M_Ed" id="M_Ed" value = -13000 form = "opt_step_2" required></td>
      </tr>
      <tr>
        <td><label for="V_Ed">V<sub>Ed</sub> [kN]</label></td>
        <td><input type="number" name="V_Ed" value = 1500 form = "opt_step_2" required></td>
      </tr>
      <tr>
        <td><label for="T_Ed">T<sub>Ed</sub> [kNm]</label></td>
        <td><input type="number" name="T_Ed" value = 0 form = "opt_step_2" required></td>
      </tr>
      <tr>
        <td>Cross Section Position</td>
        <td>
          <select name="cs_position" form ="opt_step_2">
            <option value="else" selected>Else</option>
            <option value="end_support">End Support</option>
            <option value="cantilever">Cantilever</option>
          </select>
        </td>
      </tr>
      <tr>
        <td><p>Choose the steel grade.</p> </td>
      </tr>
      <tr>
        <td><input type="radio" name="fy" id="235" value="235" checked form = "opt_step_2"> S235 </input></td>
      </tr>
      <tr>
        <td><input type="radio" name="fy" id="275" value="275" form = "opt_step_2"> S275 </input></td>
      </tr>
      <tr>
        <td><input type="radio" name="fy" id="355" value="355" form = "opt_step_2"> S355 </input></td>
      </tr>
      <tr>
        <td><p>Choose the optimization algorithm.</p></td>
      </tr>
      <tr>
        <td><input type="radio" name ="opt" value="0" form = "opt_step_2" required onchange="restrict()"> Optimizer A </input> </td>
      </tr>
      <tr>
        <td><input type="radio" name ="opt" value="1" form = "opt_step_2" required onchange="unrestrict()"> Optimizer B </input> </td>
      </tr>
      <tr>
        <td><p>Choose the optimization goal.</p></td>
      </tr>
      <tr>
        <td><input type="radio" name="goal" value="0" checked form ="opt_step_2" onchange ="grey()">Lowest Price</input></td>
      </tr>
      <tr>
        <td><input type="radio" name="goal" value="1" form ="opt_step_2" onchange ="white()">Lowest Price for given EI</input></td>
      </tr>
      <tr>
        <td><input type="radio" name="goal" value="2" form ="opt_step_2" onchange ="grey()">Best Price/EI-Ratio</input></td>
      </tr>
      <tr>
        <td><p>Enter Values for EI and Prices. </p></td>
      </tr>
        <td><label for="material_cost"> Material Cost [CHF/kg]</label></td>
        <td><input type="number" name="material_cost" min ="0" value = 2 form = "opt_step_2" required></td>
      <tr>
      </tr>
        <td><label for="welding_cost"> Welding Cost [CHF/m]</label></td>
        <td><input type="number" name="welding_cost" min = "0" value = 40 form = "opt_step_2" required></td>
      <tr>
      </tr>
        <td><label for="EI"> EI [kNm<sup>2</sup>]</label></td>
        <td><input type="number" name="ei" id="ei" value = 0 min = "0" form = "opt_step_2" required disabled></td>
      <tr>
        <td><input type="submit" name="Back" value="Back" form = "opt_step_2" formnovalidate></td>
        <td><input type="submit" name="Calculate" value="Calculate" formaction="/results_optimize" form = "opt_step_2"></td>
      </tr>
    </table>
  </div>
</div>
</body>
</html>
